---
author: YLP
title: ğŸ–¥ï¸ FICHE DE TP
---

# ğŸ–¥ï¸ TP PARTIE 1 â€” INSTALLATION GLPI + OCS SERVER

*DurÃ©e : 30 minutes â€” Individuel ou binÃ´me*

---

## Objectif

Installer GLPI et OCS Inventory Server sur Ubuntu Server.

---

## Ã‰TAPE 1 â€” Installer les PrÃ©requis (10 min)

**Si LAMP dÃ©jÃ  installÃ© (S14) :**

```bash
apache2 -v && mysql --version && php -v
# Si tout fonctionne, passer Ã  l'Ã©tape 2
```

**Si LAMP non installÃ© :**

```bash
sudo apt update
sudo apt install apache2 mysql-server php libapache2-mod-php php-mysql php-curl php-gd php-mbstring php-xml php-zip php-ldap php-imap php-apcu -y

# SÃ©curiser MySQL
sudo mysql_secure_installation
# Mot de passe root : MySQL2024!
```

---

## Ã‰TAPE 2 â€” TÃ©lÃ©charger et Installer GLPI (10 min)

```bash
cd /tmp
wget https://github.com/glpi-project/glpi/releases/download/10.0.12/glpi-10.0.12.tgz
tar -xzf glpi-10.0.12.tgz
sudo mv glpi /var/www/

# Permissions
sudo chown -R www-data:www-data /var/www/glpi
sudo chmod -R 755 /var/www/glpi
```

**CrÃ©er la base de donnÃ©es GLPI :**

```bash
sudo mysql -u root -p
# Mot de passe : MySQL2024!
```

```sql
CREATE DATABASE glpi_db;
CREATE USER 'glpi_user'@'localhost' IDENTIFIED BY 'GlpiPass2024!';
GRANT ALL PRIVILEGES ON glpi_db.* TO 'glpi_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;
```

**Configurer VirtualHost Apache :**

```bash
sudo nano /etc/apache2/sites-available/glpi.conf
```

**Contenu :**

```apache
<VirtualHost *:80>
    ServerName glpi.local
    DocumentRoot /var/www/glpi/public

    <Directory /var/www/glpi/public>
        Options FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/glpi_error.log
    CustomLog ${APACHE_LOG_DIR}/glpi_access.log combined
</VirtualHost>
```

**Activer :**

```bash
sudo a2ensite glpi.conf
sudo a2enmod rewrite
sudo systemctl reload apache2
```

**Configurer /etc/hosts (poste client) :**

```
192.168.X.X    glpi.local
```

---

## Ã‰TAPE 3 â€” Installation Web de GLPI (10 min)

**Navigateur :** http://glpi.local

**Ã‰tape 1 â€” Langue :**
- FranÃ§ais â†’ **OK**

**Ã‰tape 2 â€” Licence :**
- Accepter la licence GPL â†’ **Continuer**

**Ã‰tape 3 â€” Choix installation :**
- **Installer**

**Ã‰tape 4 â€” Base de donnÃ©es :**
- Serveur SQL : `localhost`
- Utilisateur SQL : `glpi_user`
- Mot de passe SQL : `GlpiPass2024!`
- **Continuer**

**Ã‰tape 5 â€” SÃ©lection BDD :**
- SÃ©lectionner : `glpi_db`
- **Continuer**

**Ã‰tape 6 â€” Initialisation :**
- L'installation crÃ©e les tables
- **Continuer**

**Ã‰tape 7 â€” Fin :**
- Comptes par dÃ©faut crÃ©Ã©s
- **Utiliser GLPI**

**Connexion :**
- Identifiant : `glpi`
- Mot de passe : `glpi`

**âš ï¸ Changer le mot de passe immÃ©diatement :**
- Administration â†’ Utilisateurs â†’ glpi â†’ Mot de passe : `AdminGlpi2024!`

---

---

# ğŸ–¥ï¸ TP PARTIE 2 â€” OCS INVENTORY + SYNCHRONISATION

*DurÃ©e : 30 minutes â€” Individuel ou binÃ´me*

---

## Objectif

Installer OCS Inventory Server, dÃ©ployer l'agent sur un client, synchroniser avec GLPI.

---

## Ã‰TAPE 1 â€” Installer OCS Inventory Server (15 min)

```bash
# Installer les dÃ©pendances
sudo apt install make gcc perl libxml-simple-perl libcompress-zlib-perl libdbi-perl libdbd-mysql-perl libnet-ip-perl libsoap-lite-perl libapache-dbi-perl libapache2-mod-perl2 libio-compress-perl -y

# TÃ©lÃ©charger OCS
cd /tmp
wget https://github.com/OCSInventory-NG/OCSInventory-ocsreports/releases/download/2.12.1/OCSNG_UNIX_SERVER-2.12.1.tar.gz
tar -xzf OCSNG_UNIX_SERVER-2.12.1.tar.gz
cd OCSNG_UNIX_SERVER-2.12.1

# Installer
sudo ./setup.sh
```

**RÃ©ponses aux questions :**
```
Which host is running database server [localhost] â†’ EntrÃ©e
On which port is running database server [3306] â†’ EntrÃ©e
Where is Apache daemon binary [/usr/sbin/apache2] â†’ EntrÃ©e
Apache user [www-data] â†’ EntrÃ©e
Apache group [www-data] â†’ EntrÃ©e

Do you wish to setup Communication server on this computer [y/n] â†’ y
Do you wish to setup Administration server on this computer [y/n] â†’ y

MySQL root password â†’ MySQL2024!
```

**Relancer Apache :**

```bash
sudo systemctl restart apache2
```

**AccÃ©der Ã  OCS :**
- URL : http://glpi.local/ocsreports
- Identifiant : `admin`
- Mot de passe : `admin`

**âš ï¸ Changer le mot de passe :**
- Configuration â†’ Users â†’ admin â†’ Password : `AdminOCS2024!`

---

## Ã‰TAPE 2 â€” DÃ©ployer Agent OCS sur Client Windows (10 min)

**Sur un poste client Windows :**

1. TÃ©lÃ©charger l'agent : https://github.com/OCSInventory-NG/WindowsAgent/releases
2. ExÃ©cuter `OCS-NG-Windows-Agent-Setup.exe`
3. **Configuration agent :**
   - URL serveur : `http://192.168.X.X/ocsinventory`
   - TAG : `Projet1`
   - Lancer inventaire immÃ©diatement : â˜‘ Oui
4. Installer

**VÃ©rifier la remontÃ©e :**
- OCS Server : http://glpi.local/ocsreports
- All computers â†’ le PC doit apparaÃ®tre

---

## Ã‰TAPE 3 â€” Synchroniser OCS avec GLPI (5 min)

**Dans GLPI :**

1. Configuration â†’ Plugins â†’ **OCS Inventory NG**
2. Si pas installÃ© : tÃ©lÃ©charger depuis https://plugins.glpi-project.org
3. Installer le plugin
4. Configuration du plugin :
   - URL serveur OCS : `http://localhost/ocsinventory`
   - Login : `admin`
   - Password : `AdminOCS2024!`
5. **Tester la connexion** â†’ OK
6. **Lancer la synchronisation**
7. Parc â†’ Ordinateurs â†’ le PC remontÃ© par OCS apparaÃ®t dans GLPI

---

---

# ğŸ–¥ï¸ TP PARTIE 3 â€” CATALOGUE DE SERVICES

*DurÃ©e : 30 minutes â€” Individuel*

---

## Objectif

CrÃ©er un catalogue de services IT structurÃ© dans GLPI.

---

## Ã‰TAPE 1 â€” Activer le Catalogue de Services (5 min)

**Dans GLPI :**

1. Configuration â†’ Assistance â†’ CatÃ©gories de tickets
2. CrÃ©er l'arborescence de catÃ©gories (voir Annexe 2)

---

## Ã‰TAPE 2 â€” CrÃ©er les CatÃ©gories Principales (10 min)

**CrÃ©er les catÃ©gories suivantes :**

| **CatÃ©gorie** | **Description** |
|---|---|
| Support Utilisateur | Assistance aux utilisateurs finaux |
| Infrastructure & RÃ©seau | Services liÃ©s aux serveurs et au rÃ©seau |
| Applications MÃ©tier | Support sur les applications spÃ©cifiques |
| SÃ©curitÃ© | Demandes liÃ©es Ã  la sÃ©curitÃ© IT |

**ProcÃ©dure :**
1. Configuration â†’ IntitulÃ©s â†’ CatÃ©gories de tickets
2. Cliquer **+** (Ajouter)
3. Nom : `Support Utilisateur`
4. **Ajouter**
5. RÃ©pÃ©ter pour les 3 autres catÃ©gories

---

## Ã‰TAPE 3 â€” CrÃ©er les Sous-CatÃ©gories (15 min)

**Sous Support Utilisateur, crÃ©er :**

| **Sous-catÃ©gorie** | **Parent** |
|---|---|
| Compte et Authentification | Support Utilisateur |
| Poste de Travail | Support Utilisateur |
| Messagerie | Support Utilisateur |
| Impression | Support Utilisateur |

**Sous Infrastructure & RÃ©seau, crÃ©er :**

| **Sous-catÃ©gorie** | **Parent** |
|---|---|
| Serveur | Infrastructure & RÃ©seau |
| RÃ©seau | Infrastructure & RÃ©seau |
| Stockage | Infrastructure & RÃ©seau |

**ProcÃ©dure :**
1. Cliquer sur **Support Utilisateur**
2. Cliquer **Ajouter un Ã©lÃ©ment fils**
3. Nom : `Compte et Authentification`
4. **Ajouter**
5. RÃ©pÃ©ter pour les autres

---

---

# ğŸ­ TP PARTIE 4 â€” RÃ‰SOLUTION DE 3 TICKETS

*DurÃ©e : 60 minutes â€” Individuel*

---

## Objectif

Simuler la crÃ©ation et la rÃ©solution de 3 tickets d'incidents rÃ©alistes.

---

## INCIDENT 1 â€” AccÃ¨s Serveur RefusÃ© (20 min)

**Contexte :**
Julie Dupont (ComptabilitÃ©) ne peut plus accÃ©der au dossier partagÃ© `\\SRV-FILES\Comptabilite` depuis ce matin. Message d'erreur : "AccÃ¨s refusÃ©".

**CrÃ©er le ticket dans GLPI :**

1. Assistance â†’ Tickets â†’ **CrÃ©er un ticket**
2. Titre : `AccÃ¨s refusÃ© au dossier ComptabilitÃ©`
3. Demandeur : Julie Dupont
4. CatÃ©gorie : `Support Utilisateur > Poste de Travail`
5. Description :
   ```
   Depuis ce matin 9h, je ne peux plus ouvrir le dossier ComptabilitÃ©
   sur le serveur. Message : "AccÃ¨s refusÃ©".
   
   Hier soir, tout fonctionnait normalement.
   ```
6. PrioritÃ© : Haute
7. **CrÃ©er**

**Diagnostic :**

```
HYPOTHÃˆSES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H1 : Mot de passe expirÃ© â†’ Test connexion AD : OK
H2 : Droits NTFS retirÃ©s â†’ Ã€ vÃ©rifier
H3 : Serveur inaccessible â†’ Test ping : OK

TESTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Se connecter sur SRV-FILES
2. VÃ©rifier les droits NTFS du dossier ComptabilitÃ©
   â†’ PropriÃ©tÃ©s â†’ SÃ©curitÃ©
   â†’ Le groupe "Comptabilite" est absent !

CAUSE IDENTIFIÃ‰E
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Les droits NTFS du groupe Comptabilite ont Ã©tÃ© supprimÃ©s
(probablement lors d'une manipulation hier soir)
```

**RÃ©solution :**

```bash
# Sur SRV-FILES
# Clic droit sur C:\Partages\Comptabilite â†’ PropriÃ©tÃ©s â†’ SÃ©curitÃ©
# Ajouter â†’ Groupe "Comptabilite" â†’ Modification
# Appliquer
```

**Dans GLPI :**

1. Ouvrir le ticket
2. Solution :
   ```
   DIAGNOSTIC :
   Les droits NTFS du groupe Comptabilite avaient Ã©tÃ© supprimÃ©s.
   
   RÃ‰SOLUTION :
   Ajout du groupe Comptabilite avec droits "Modification" sur
   le dossier \\SRV-FILES\Comptabilite
   
   VALIDATION :
   Utilisateur peut de nouveau accÃ©der au dossier.
   ```
3. Statut : **RÃ©solu**
4. Temps passÃ© : 15 minutes

---

## INCIDENT 2 â€” Application MÃ©tier ne se Lance Pas (20 min)

**Contexte :**
Pierre Martin (Commercial) signale que le logiciel de gestion commerciale "GestCom" affiche une erreur au lancement : "Erreur de connexion Ã  la base de donnÃ©es".

**CrÃ©er le ticket dans GLPI :**

1. Titre : `GestCom : Erreur connexion base de donnÃ©es`
2. Demandeur : Pierre Martin
3. CatÃ©gorie : `Applications MÃ©tier`
4. Description :
   ```
   Depuis 10h, GestCom ne se lance plus. Message d'erreur :
   "Erreur de connexion Ã  la base de donnÃ©es SQL Server".
   
   Mes collÃ¨gues du service commercial ont le mÃªme problÃ¨me.
   ```
5. PrioritÃ© : Critique (impact : tout le service commercial)

**Diagnostic :**

```
HYPOTHÃˆSES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H1 : Application corrompue â†’ Tester sur autre poste : mÃªme erreur
     â†’ H1 rejetÃ©e (problÃ¨me global)
H2 : Serveur SQL inaccessible â†’ Ã€ vÃ©rifier
H3 : Service SQL Server arrÃªtÃ© â†’ Ã€ vÃ©rifier

TESTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Ping vers serveur SQL (SRV-SQL01) â†’ OK
2. Se connecter sur SRV-SQL01
3. VÃ©rifier services Windows
   â†’ Service "SQL Server (MSSQLSERVER)" : ArrÃªtÃ©

CAUSE IDENTIFIÃ‰E
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Le service SQL Server s'est arrÃªtÃ© (probablement suite Ã  une
mise Ã  jour Windows cette nuit)
```

**RÃ©solution :**

```powershell
# Sur SRV-SQL01
# Services.msc
# SQL Server (MSSQLSERVER) â†’ DÃ©marrer
# DÃ©marrage automatique â†’ Configurer
```

**Dans GLPI :**

1. Solution :
   ```
   DIAGNOSTIC :
   Le service SQL Server Ã©tait arrÃªtÃ© sur SRV-SQL01.
   
   RÃ‰SOLUTION :
   - RedÃ©marrage du service SQL Server
   - Configuration en dÃ©marrage automatique
   
   CAUSE :
   Probable redÃ©marrage suite aux mises Ã  jour Windows
   
   VALIDATION :
   GestCom fonctionne de nouveau. 12 utilisateurs validÃ©s.
   
   ACTION PRÃ‰VENTIVE :
   Configurer monitoring du service SQL Server dans Nagios.
   ```
2. Statut : **RÃ©solu**
3. Temps passÃ© : 20 minutes

---

## INCIDENT 3 â€” Compte Utilisateur VerrouillÃ© (20 min)

**Contexte :**
Sophie Bernard (Direction) ne peut plus se connecter Ã  son PC. Message : "Votre compte a Ã©tÃ© verrouillÃ©. Contactez l'administrateur."

**CrÃ©er le ticket dans GLPI :**

1. Titre : `Compte AD verrouillÃ© - Sophie Bernard`
2. Demandeur : Sophie Bernard
3. CatÃ©gorie : `Support Utilisateur > Compte et Authentification`
4. Description :
   ```
   Je ne peux plus me connecter sur mon PC.
   Message : "Compte verrouillÃ©".
   
   J'ai peut-Ãªtre fait une erreur en tapant mon mot de passe
   plusieurs fois ce matin.
   ```
5. PrioritÃ© : Haute (Direction)

**Diagnostic :**

```
HYPOTHÃˆSES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
H1 : Tentatives de connexion Ã©chouÃ©es â†’ Ã€ vÃ©rifier dans AD
H2 : Mot de passe expirÃ© â†’ Ã€ vÃ©rifier

TESTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Ouvrir Active Directory sur SRV-DC01
2. Utilisateurs et ordinateurs AD
3. Rechercher : Sophie Bernard (sbernard)
4. PropriÃ©tÃ©s du compte
   â†’ â˜‘ Le compte est verrouillÃ©
   
CAUSE IDENTIFIÃ‰E
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Compte verrouillÃ© suite Ã  5 tentatives de connexion Ã©chouÃ©es
(politique de sÃ©curitÃ© AD)
```

**RÃ©solution :**

```
# Sur SRV-DC01
# Active Directory â†’ Utilisateurs
# Clic droit sur sbernard â†’ PropriÃ©tÃ©s
# Compte â†’ DÃ©verrouiller le compte
# Appliquer
```

**Communication avec l'utilisateur :**

```
Email ou appel tÃ©lÃ©phonique :

"Bonjour Sophie,

Votre compte a Ã©tÃ© dÃ©verrouillÃ©. Vous pouvez de nouveau vous
connecter.

IMPORTANT : Votre mot de passe actuel fonctionne. Cependant,
pour Ã©viter un nouveau verrouillage, je vous recommande de :
1. VÃ©rifier que le Caps Lock n'est pas activÃ©
2. Taper lentement votre mot de passe

Si vous avez oubliÃ© votre mot de passe, nous pouvons le
rÃ©initialiser.

Cordialement,
Support IT"
```

**Dans GLPI :**

1. Solution :
   ```
   DIAGNOSTIC :
   Compte AD verrouillÃ© suite Ã  tentatives de connexion Ã©chouÃ©es.
   
   RÃ‰SOLUTION :
   - DÃ©verrouillage du compte via Active Directory
   - Utilisateur informÃ© par tÃ©lÃ©phone
   - Validation : utilisateur peut se reconnecter
   
   RECOMMANDATION :
   Rappeler Ã  l'utilisateur la politique de mots de passe.
   ```
2. Statut : **RÃ©solu**
3. Temps passÃ© : 10 minutes

