---
author: YLP
title: ğŸ–¥ï¸ FICHE DE TP
---

# ğŸ–¥ï¸ TP PARTIE 1 â€” INSTALLER DOKUWIKI

*DurÃ©e : 60 minutes â€” Individuel*

---

## Objectif

Installer et configurer DokuWiki sur Ubuntu Server pour crÃ©er un wiki d'Ã©quipe IT.

---

## PrÃ©requis

- VM Ubuntu Server 22.04 (peut rÃ©utiliser celle de S14-S15)
- AccÃ¨s sudo
- Apache et PHP dÃ©jÃ  installÃ©s (si LAMP installÃ© en S14)

---

## Ã‰TAPE 1 â€” VÃ©rifier/Installer Apache et PHP (10 min)

**Si Apache/PHP dÃ©jÃ  installÃ©s (S14) :**

```bash
apache2 -v
php -v
# Si les deux fonctionnent, passer Ã  l'Ã©tape 2
```

**Si Apache/PHP non installÃ©s :**

```bash
sudo apt update
sudo apt install apache2 php libapache2-mod-php php-xml php-gd php-zip -y
sudo systemctl start apache2
sudo systemctl enable apache2
```

---

## Ã‰TAPE 2 â€” TÃ©lÃ©charger DokuWiki (5 min)

```bash
cd /tmp
wget https://download.dokuwiki.org/src/dokuwiki/dokuwiki-stable.tgz
tar -xzf dokuwiki-stable.tgz
```

**Identifier le dossier extrait :**

```bash
ls -l /tmp
# Vous verrez un dossier dokuwiki-2024-02-06 (la date varie)
```

---

## Ã‰TAPE 3 â€” DÃ©placer DokuWiki vers DocumentRoot (5 min)

```bash
# Remplacer 2024-02-06 par la date rÃ©elle du dossier
sudo mv /tmp/dokuwiki-2024-02-06 /var/www/dokuwiki

# Permissions
sudo chown -R www-data:www-data /var/www/dokuwiki
sudo chmod -R 755 /var/www/dokuwiki
```

---

## Ã‰TAPE 4 â€” Configurer VirtualHost Apache (10 min)

```bash
sudo nano /etc/apache2/sites-available/wiki.conf
```

**Contenu :**

```apache
<VirtualHost *:80>
    ServerName wiki.local
    DocumentRoot /var/www/dokuwiki

    <Directory /var/www/dokuwiki/>
        Options FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/wiki_error.log
    CustomLog ${APACHE_LOG_DIR}/wiki_access.log combined
</VirtualHost>
```

**Activer le site :**

```bash
sudo a2ensite wiki.conf
sudo systemctl reload apache2
```

---

## Ã‰TAPE 5 â€” Configurer /etc/hosts (Poste Client) (3 min)

**Sur votre poste client (pas le serveur) :**

**Windows :**
```cmd
# Notepad en Administrateur
# C:\Windows\System32\drivers\etc\hosts

192.168.X.X    wiki.local
```

**Linux/macOS :**
```bash
sudo nano /etc/hosts

192.168.X.X    wiki.local
```

---

## Ã‰TAPE 6 â€” Installation Web de DokuWiki (15 min)

**Ouvrir le navigateur :** http://wiki.local/install.php

**Configuration de DokuWiki :**

| **Champ** | **Valeur** |
|---|---|
| Nom du wiki | Wiki Technique IT |
| Compte superutilisateur | admin |
| Nom complet | Administrateur Wiki |
| Email | admin@wiki.local |
| Mot de passe | AdminWiki2024! |
| Politique ACL | Public (lecture publique, Ã©criture utilisateurs) |
| Licence | CC BY-SA (Creative Commons) |

**Cliquer "Sauvegarder"**

**RÃ©sultat :** "DokuWiki est maintenant configurÃ©."

---

## Ã‰TAPE 7 â€” SÃ©curiser l'Installation (5 min)

```bash
# Supprimer le fichier d'installation (obligatoire)
sudo rm /var/www/dokuwiki/install.php

# VÃ©rifier
ls /var/www/dokuwiki/install.php
# RÃ©sultat : No such file or directory
```

---

## Ã‰TAPE 8 â€” PremiÃ¨re Connexion (7 min)

**Navigateur :** http://wiki.local

**Se connecter :**
- Cliquer "Connexion" (en haut Ã  droite)
- Identifiant : `admin`
- Mot de passe : `AdminWiki2024!`

**Explorer l'interface :**
- **Ã‰diter** : Cliquer sur l'icÃ´ne crayon pour Ã©diter la page d'accueil
- **CrÃ©er une page** : Taper `[[:nouvelle_page]]` dans l'Ã©diteur â†’ enregistrer â†’ cliquer sur le lien rouge

---

---

# ğŸ–¥ï¸ TP PARTIE 2 â€” CRÃ‰ER LA STRUCTURE DU WIKI

*DurÃ©e : 40 minutes â€” Individuel*

---

## Objectif

CrÃ©er une structure documentaire cohÃ©rente pour un wiki d'Ã©quipe IT.

---

## Ã‰TAPE 1 â€” CrÃ©er l'Arborescence (15 min)

**Structure recommandÃ©e pour un wiki IT :**

```
Accueil
â”œâ”€â”€ Serveurs
â”‚   â”œâ”€â”€ Serveur Web (Apache)
â”‚   â”œâ”€â”€ Serveur Base de DonnÃ©es (MySQL)
â”‚   â””â”€â”€ Serveur Fichiers
â”œâ”€â”€ RÃ©seau
â”‚   â”œâ”€â”€ Architecture RÃ©seau
â”‚   â”œâ”€â”€ Configuration Switches
â”‚   â””â”€â”€ Configuration Firewall
â”œâ”€â”€ ProcÃ©dures
â”‚   â”œâ”€â”€ CrÃ©ation Utilisateur AD
â”‚   â”œâ”€â”€ Backup Serveurs
â”‚   â””â”€â”€ DÃ©ploiement WordPress
â”œâ”€â”€ Incidents
â”‚   â””â”€â”€ Base d'Incidents Connus
â””â”€â”€ Projet_1
    â”œâ”€â”€ Architecture
    â”œâ”€â”€ Planning
    â””â”€â”€ Documentation Technique
```

**CrÃ©er les pages :**

1. Sur la page d'accueil, cliquer **Ã‰diter**
2. Remplacer le contenu par :

```wiki
====== Wiki Technique IT ======

Bienvenue sur le wiki de l'Ã©quipe IT.

===== Navigation =====

  * [[serveurs:accueil|Serveurs]]
  * [[reseau:accueil|RÃ©seau]]
  * [[procedures:accueil|ProcÃ©dures]]
  * [[incidents:accueil|Incidents]]
  * [[projet_1:accueil|Projet 1]]

===== Guide d'utilisation =====

Pour crÃ©er une nouvelle page :
  - Tapez le lien entre doubles crochets : ''<nowiki>[[nom_de_la_page]]</nowiki>''
  - Cliquez sur le lien rouge
  - RÃ©digez le contenu
  - Enregistrez

===== RÃ¨gles de rÃ©daction =====

  * **Toujours dater** les procÃ©dures
  * **Toujours indiquer l'auteur**
  * **Utiliser des captures d'Ã©cran** pour les procÃ©dures techniques
  * **Mettre Ã  jour** les procÃ©dures obsolÃ¨tes
```

3. **Enregistrer**

---

## Ã‰TAPE 2 â€” CrÃ©er une Page "Serveurs" (10 min)

Cliquer sur le lien **Serveurs** (rouge) â†’ Vous arrivez sur la page vide.

**Contenu de la page serveurs:accueil :**

```wiki
====== Serveurs ======

Liste des serveurs de l'infrastructure.

===== Serveurs de Production =====

^ Nom       ^ IP            ^ RÃ´le           ^ OS                  ^ Responsable ^
| SRV-WEB01 | 192.168.10.10 | Serveur Web    | Ubuntu Server 22.04 | Admin       |
| SRV-DB01  | 192.168.10.11 | Base de donnÃ©es| Ubuntu Server 22.04 | Admin       |
| SRV-DC01  | 192.168.10.20 | ContrÃ´leur AD  | Windows Server 2022 | Admin       |

===== Documentation par Serveur =====

  * [[serveurs:srv-web01|SRV-WEB01 â€” Serveur Web Apache]]
  * [[serveurs:srv-db01|SRV-DB01 â€” Serveur Base de DonnÃ©es MySQL]]
  * [[serveurs:srv-dc01|SRV-DC01 â€” ContrÃ´leur de Domaine AD]]
```

**Enregistrer**

---

## Ã‰TAPE 3 â€” CrÃ©er une ProcÃ©dure Technique (15 min)

Aller sur la page d'accueil â†’ cliquer **ProcÃ©dures** â†’ cliquer **CrÃ©ation Utilisateur AD**

**Contenu de la page procedures:creation_utilisateur_ad :**

```wiki
====== ProcÃ©dure : CrÃ©ation d'un Utilisateur Active Directory ======

**Auteur :** Admin \\
**Date de crÃ©ation :** 2024-02-16 \\
**DerniÃ¨re mise Ã  jour :** 2024-02-16 \\
**Version :** 1.0

===== Objectif =====

CrÃ©er un compte utilisateur dans Active Directory et l'affecter Ã  la bonne UnitÃ© Organisationnelle (OU).

===== PrÃ©requis =====

  * AccÃ¨s au serveur contrÃ´leur de domaine (SRV-DC01)
  * Droits d'administration sur Active Directory
  * Informations de l'utilisateur (nom, prÃ©nom, service)

===== DurÃ©e EstimÃ©e =====

5 minutes

===== ProcÃ©dure =====

==== 1. Ouvrir la console Active Directory ====

  - Sur SRV-DC01, ouvrir **Utilisateurs et ordinateurs Active Directory**
  - Menu DÃ©marrer â†’ Outils d'administration Windows â†’ Utilisateurs et ordinateurs AD

==== 2. SÃ©lectionner l'UnitÃ© Organisationnelle ====

  - DÃ©rouler l'arborescence : **techcorp.local** â†’ **Utilisateurs** â†’ **[Service]**
  - Exemple : **techcorp.local/Utilisateurs/Comptabilite**

==== 3. CrÃ©er l'utilisateur ====

  - Clic droit sur l'OU â†’ **Nouveau** â†’ **Utilisateur**
  - Remplir les champs :
    * PrÃ©nom : Pierre
    * Nom : Durand
    * Nom d'ouverture de session : pdurand
  - Cliquer **Suivant**

==== 4. DÃ©finir le mot de passe ====

  - Mot de passe : **Pass@2024!** (temporaire)
  - Cocher : â˜‘ L'utilisateur doit changer le mot de passe Ã  la prochaine ouverture de session
  - Cliquer **Suivant** â†’ **Terminer**

==== 5. Validation ====

  - L'utilisateur apparaÃ®t dans l'OU sÃ©lectionnÃ©e
  - Double-cliquer sur l'utilisateur â†’ vÃ©rifier les propriÃ©tÃ©s

===== VÃ©rification =====

  - Tenter une connexion avec le compte crÃ©Ã© depuis un poste client
  - L'utilisateur doit Ãªtre invitÃ© Ã  changer son mot de passe

===== Troubleshooting =====

^ ProblÃ¨me ^ Cause Probable ^ Solution ^
| "Le nom d'utilisateur existe dÃ©jÃ " | Login dÃ©jÃ  utilisÃ© | Choisir un login diffÃ©rent (ex : pdurand2) |
| "Mot de passe ne respecte pas les exigences" | Politique de MDP trop stricte | Utiliser 12+ caractÃ¨res, maj+min+chiffres+symboles |

===== Historique des Versions =====

^ Version ^ Date       ^ Auteur ^ Modifications ^
| 1.0     | 2024-02-16 | Admin  | CrÃ©ation initiale |
```

**Enregistrer**

---

---

# ğŸ–¥ï¸ BONUS â€” INTRODUCTION Ã€ GIT (DÃ‰MO OPTIONNELLE)

*DurÃ©e : 10-15 minutes â€” DÃ©monstration enseignant ou exercice avancÃ©*

---

## Objectif

Comprendre les commandes de base de Git par la pratique.

---

## Ã‰TAPE 1 â€” Installer Git (2 min)

```bash
sudo apt install git -y
git --version
```

---

## Ã‰TAPE 2 â€” Configurer Git (3 min)

```bash
git config --global user.name "Votre Nom"
git config --global user.email "votre.email@exemple.com"
```

---

## Ã‰TAPE 3 â€” CrÃ©er un Projet et Initialiser Git (3 min)

```bash
mkdir mon-wiki-scripts
cd mon-wiki-scripts
git init
# RÃ©sultat : "Initialized empty Git repository"
```

---

## Ã‰TAPE 4 â€” CrÃ©er un Fichier et Faire un Commit (5 min)

```bash
# CrÃ©er un fichier
echo "# Scripts pour le Wiki IT" > README.md

# VÃ©rifier l'Ã©tat
git status
# RÃ©sultat : README.md en "Untracked files"

# Ajouter au suivi
git add README.md

# VÃ©rifier l'Ã©tat
git status
# RÃ©sultat : README.md en "Changes to be committed"

# Faire le commit
git commit -m "Ajout du fichier README"

# Voir l'historique
git log
```

---

## Ã‰TAPE 5 â€” Modifier et Faire un Second Commit (5 min)

```bash
# Modifier le fichier
echo "" >> README.md
echo "## Liste des scripts" >> README.md
echo "- backup.sh : Script de sauvegarde" >> README.md

# Voir les modifications
git diff README.md

# Ajouter et commiter
git add README.md
git commit -m "Ajout de la section liste des scripts"

# Voir l'historique complet
git log
# On voit maintenant 2 commits
```
